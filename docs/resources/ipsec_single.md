---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "perimeter81_ipsec_single Resource - terraform-provider-perimeter81"
subcategory: ""
description: |-
  
---

# perimeter81_ipsec_single (Resource)

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `dpd_delay` (String) The delay time that the tunnel should wait to receive a response to the DPD message
- `dpd_timeout` (String) The maximum time that the tunnel should wait to receive a response to the DPD message before considering the peer to be dead
- `gateway_id` (String) The gateway ID that we want to add this tunnel to
- `ike_life_time` (String) Possible range: 1h - 24h
- `key_exchange` (String) Possible values: ikev1 or ikev2
- `lifetime` (String) Possible range: 1h - 24h
- `network_id` (String) the network id that has this tunnel.
- `p81_gateway_subnets` (List of String) Specify your Perimeter 81 network subnet
- `passphrase` (String, Sensitive) Enter a string of at least 8 characters it'll be required when setting up the tunnel on your firewall/router management interface.
- `phase1` (Block List, Min: 1) (see [below for nested schema](#nestedblock--phase1))
- `phase2` (Block List, Min: 1) (see [below for nested schema](#nestedblock--phase2))
- `region_id` (String) the region id in this network that we want to create this tunnel in
- `remote_gateway_subnets` (List of String) Specify your on-premises internal network subnet.
- `remote_public_ip` (String) Enter your Perimeter 81 gateway IP address.
- `tunnel_name` (String) The name of the tunnel

### Optional

- `remote_id` (String) Enter a string of your own choice. This parameter will use as an additional shared secret, providing an extra level of security. Copy and save it as it'll be used as the left ID (local ID or local identification) when setting the tunnel on your firewall/router management interface.

### Read-Only

- `id` (String) The ID of this resource.

### Example

```terraform
 resource "perimeter81_network" "n1" {
   network {
     name = "network-test"
     tags = ["test"]
   }
   region {
     cpregion_id = "v2cRwzGRua"
     idle = true
   }
 }

data "perimeter81_networks" "all" {
    depends_on = [
        perimeter81_network.n1
    ]
}
resource "perimeter81_ipsec_single" "ipss1" {
  region_id = perimeter81_network.n1.region[0].region_id
  gateway_id = {
        for network in data.perimeter81_networks.all.networks :
        network.id => network.regions[0].instances[0].id
        if network.id == perimeter81_network.n1.id
    }[perimeter81_network.n1.id]
  network_id = perimeter81_network.n1.id
  tunnel_name = "Sec1"
  p81_gateway_subnets = ["0.0.0.0/0"]
  remote_gateway_subnets = ["0.0.0.0/0"]
  key_exchange = "ikev1"
  ike_life_time = "9h"
  lifetime = "2h"
  dpd_delay = "20s"
  dpd_timeout = "40s"
  phase1 {
    auth = ["3des"]
    encryption = ["sha256"]
    dh = [14]
  }
  phase2 {
    auth = ["3des"]
    encryption = ["sha256"]
    dh = [14]
  }
  passphrase = "tnEgVbTJE23"
  remote_public_ip = "198.51.100.41"
}
```

<a id="nestedblock--phase1"></a>
### Nested Schema for `phase1`

Required:

- `auth` (List of String) Possible values: md5, sha1, sha256, sha348, sha512
- `dh` (List of Number) Possible values: 2, 5, 14, 19, 20, 21
- `encryption` (List of String) Possible values: 3des, blowfish128, blowfish192, blowfish256, aes128, aes192, aes256

<a id="nestedblock--phase2"></a>
### Nested Schema for `phase2`

Required:

- `auth` (List of String) Possible values: md5, sha1, sha256, sha348, sha512
- `dh` (List of Number) Possible values: 2, 5, 14, 19, 20, 21
- `encryption` (List of String) Possible values: 3des, blowfish128, blowfish192, blowfish256, aes128, aes192, aes256

## import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Ip-Sec single tunnel using Network ID (networkId) and Tunnel ID (tunnelId). For example:

```terraform
import {
  to = perimeter81_ipsec_single.ipss1
  id = "t2rpk4k59-c1thg6d54"
}
```

Using `terraform import`, import Ip-Sec single tunnel using Network ID (networkId) and Tunnel ID (tunnelId) in format of networkId-tunnelId. For example:

```terraform
% terraform perimeter81_ipsec_single.ipss1 t2rpk4k59-c1thg6d54
```
