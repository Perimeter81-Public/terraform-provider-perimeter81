---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "perimeter81_ipsec_redundant Resource - terraform-provider-perimeter81"
subcategory: ""
description: |-
  
---

# perimeter81_ipsec_redundant (Resource)





<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `advanced_settings` (Block List, Min: 1) (see [below for nested schema](#nestedblock--advanced_settings))
- `network_id` (String)
- `region_id` (String)
- `shared_settings` (Block List, Min: 1) (see [below for nested schema](#nestedblock--shared_settings))
- `tunnel1` (Block List, Min: 1) (see [below for nested schema](#nestedblock--tunnel1))
- `tunnel2` (Block List, Min: 1) (see [below for nested schema](#nestedblock--tunnel2))
- `tunnel_name` (String)

### Read-Only

- `id` (String) The ID of this resource.

### Example

```terraform
 resource "perimeter81_network" "n1" {
   network {
     name = "network-test",
     tags = ["test"]
   }
   region {
     cpregion_id = "v2cRwzGRua"
     instance_count = 2
     idle = true
   }
 }

data "perimeter81_networks" "all" {
    depends_on = [
        perimeter81_network.n1
    ]
}

resource "perimeter81_ipsec_redundant" "ipsr1" {
  region_id = perimeter81_network.n1.region[0].region_id
  network_id = perimeter81_network.n1.id
  tunnel_name = "ipseed"
  tunnel1 {
      passphrase = "aXvgHEYt"
      p81_gwinternal_ip = "169.254.100.19"
      remote_gwinternal_ip = "169.254.100.5"
      remote_public_ip = "169.254.100.7"
      remote_id = "169.254.100.7"
      remote_asn = 65323
      gateway_id = {
        for network in data.perimeter81_networks.all.networks :
        network.id => network.regions[0].instances[0].id
        if network.id == perimeter81_network.n1.id
      }[perimeter81_network.n1.id]
  }
  tunnel2 {
      passphrase = "Sg4gKHtT"
      p81_gwinternal_ip = "169.254.100.10"
      remote_gwinternal_ip = "169.254.100.14"
      remote_public_ip = "169.254.100.16"
      remote_id = "169.254.100.16"
      remote_asn = 65324
      gateway_id = {
        for network in data.perimeter81_networks.all.networks :
        network.id => network.regions[0].instances[1].id
        if network.id == perimeter81_network.n1.id
      }[perimeter81_network.n1.id]
  }
  shared_settings {
    p81_gateway_subnets = ["0.0.0.0/0"]
    remote_gateway_subnets = ["0.0.0.0/0"]
  }
  advanced_settings {
    key_exchange = "ikev2"
    ike_life_time = "8h"
    lifetime = "1h"
    dpd_delay = "10s"
    dpd_timeout = "30s"
    phase1 {
      auth = ["3des"]
      encryption = ["sha256"]
      dh = [14]
    }
    phase2 {
      auth = ["3des"]
      encryption = ["sha256"]
      dh = [14]
    }
  }
}
```

<a id="nestedblock--advanced_settings"></a>
### Nested Schema for `advanced_settings`

Required:

- `dpd_delay` (String)
- `dpd_timeout` (String)
- `ike_life_time` (String)
- `key_exchange` (String)
- `lifetime` (String)
- `phase1` (Block List, Min: 1) (see [below for nested schema](#nestedblock--advanced_settings--phase1))
- `phase2` (Block List, Min: 1) (see [below for nested schema](#nestedblock--advanced_settings--phase2))

<a id="nestedblock--advanced_settings--phase1"></a>
### Nested Schema for `advanced_settings.phase1`

Required:

- `auth` (List of String)
- `dh` (List of Number)
- `encryption` (List of String)


<a id="nestedblock--advanced_settings--phase2"></a>
### Nested Schema for `advanced_settings.phase2`

Required:

- `auth` (List of String)
- `dh` (List of Number)
- `encryption` (List of String)



<a id="nestedblock--shared_settings"></a>
### Nested Schema for `shared_settings`

Required:

- `p81_gateway_subnets` (List of String)
- `remote_gateway_subnets` (List of String)


<a id="nestedblock--tunnel1"></a>
### Nested Schema for `tunnel1`

Required:

- `gateway_id` (String)
- `p81_gwinternal_ip` (String)
- `passphrase` (String, Sensitive)
- `remote_asn` (Number)
- `remote_gwinternal_ip` (String)
- `remote_public_ip` (String)

Optional:

- `remote_id` (String)


<a id="nestedblock--tunnel2"></a>
### Nested Schema for `tunnel2`

Required:

- `gateway_id` (String)
- `p81_gwinternal_ip` (String)
- `passphrase` (String, Sensitive)
- `remote_asn` (Number)
- `remote_gwinternal_ip` (String)
- `remote_public_ip` (String)

Optional:

- `remote_id` (String)
